import{u as y,r as c,w as g,b,c as u,d as e,l as w,s as _,x as h,v as C,n as j,F as m,g as D,h as T,t as f}from"./index-a569ccc7.js";const E={class:"bg-slate-100 w-4/5 h-[70%] rounded-md p-5"},B=e("h1",{class:"text-center text-xl font-black"}," ㅤ글 작성ㅤ ",-1),F={class:"overflow-y-scroll h-5/6",style:{"overflow-y":"auto"}},S={class:"mb-4 mt-4 border-t-2 border-solid"},M={class:"flex justify-center mt-2 items-center font-black"},I=e("span",{class:"items-center font-black w-[40%] text-right"}," 제목 : ",-1),V={class:"w-[90%]"},N={class:"mb-4 mt-4 border-t-2 border-solid h-2/5"},O=e("div",{class:"flex justify-center mt-2 items-center font-black"},[e("span",{class:"items-center font-black w-[40%] text-center"}," 내용 ")],-1),z={class:"rounded-2xl p-4 mb-2 block bg-[#EBEBEB]"},L={class:""},P={class:"font-black text-base flex"},U={class:"w-full space-y-2"},A={class:"flex items-center justify-between"},G={class:"font-black text-xl"},J={class:"font-semibold ml-auto text-slate-400"},$=["onClick"],q={class:"flex mt-3"},H={class:"font-semibold text-slate-600"},K=e("span",{class:"text-[#] text-2xl font-black"}," 추가 ",-1),Q=[K],X={__name:"Feedback",setup(R){const n=y();n.currentPage=6;const d=c(!1),l={writer:c(""),title:c(""),content:c("")},p=()=>{let s={},o=n.selectDate,t=1,a=2;s.user_id=t,s.doctor_id=a,s.date=o,s.content=l.content.value,s.title=l.title.value,console.log(s),fetch("http://210.91.210.243:8509/feedback",{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)});for(const v in l)l[v].value="";r(),setTimeout(()=>{i(1)},100)},i=s=>{console.log("켓피드백");const o=n.selectDate;let t="http://210.91.210.243:8509/feedback?user_id="+s+"&date="+o;fetch(t,{method:"GET",headers:{accept:"application/json"}}).then(a=>a.json()).then(a=>{console.log(a),n.feedbackData[0]=a})},k=s=>{let t="http://210.91.210.243:8509/feedback?feedback_id="+s;confirm("삭제하시겠습니까?")&&(fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}}),setTimeout(()=>{i(1)},100))},r=()=>{d.value=!d.value,console.log(d.value)};return g(()=>{n.selectDate!=""&&i(1)}),(s,o)=>(b(),u(m,null,[e("div",{id:"voidingModal",class:C(["modal-overlay text-black",{"modal-on":d.value}]),style:j({visibility:d.value?"visible":"hidden"})},[w(" > "),e("div",E,[e("div",{class:"flex justify-end"},[e("button",{onClick:r,class:"text-3xl font-black"},"×")]),B,e("div",F,[e("div",S,[e("div",M,[I,e("span",V,[_(e("input",{id:"feedbackTitle",type:"text",class:"border-solid border-b-4 rounded-md font-medium text-center w-4/5 ml-2",placeholder:"안녕하세요","onUpdate:modelValue":o[0]||(o[0]=t=>l.title.value=t)},null,512),[[h,l.title.value]])])])]),e("div",N,[O,_(e("textarea",{id:"feedbackContent",type:"content",class:"border-solid border-2 border-[#F5BF76] rounded-md font-medium w-full h-full",placeholder:"반갑습니다.","onUpdate:modelValue":o[1]||(o[1]=t=>l.content.value=t)},null,512),[[h,l.content.value]])]),e("div",{class:"text-right"},[e("button",{class:"mr-2 mt-8 px-4 py-0.5 font-bold text-s rounded-md border-2 border-black text-black bg-white",onClick:p}," 저장 ")])])])],6),(b(!0),u(m,null,D(T(n).feedbackData[0],(t,a)=>(b(),u("div",z,[e("details",L,[e("summary",P,[e("div",U,[e("div",A,[e("span",G,f(t.title),1),e("span",J,f(t.doctor_name),1)])]),e("button",{onClick:x=>k(t.feedback_id),class:"flex font-black text-md items-start"},"×",8,$)]),e("div",q,[e("span",H,f(t.content),1)])])]))),256)),e("button",{onClick:r,class:"border-dashed hover:border-solid border-4 border-[#000] rounded-2xl p-4 mb-2 h-[64px] w-[100%] items-center justify-items-center"},Q)],64))}};export{X as default};
