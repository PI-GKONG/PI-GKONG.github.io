import{u as D,r as L,w as P,b as p,c as g,d as n,n as $,h as r,t as x,m as q,o as B,q as E,a as M,e as k,F as S,g as w}from"./index-a569ccc7.js";const j={class:"bg-white rounded-[10px] pt-5 pr-5 flex",style:{"box-shadow":"0px 4px 10px 0px rgba(242, 238, 238, 1)"}},N={class:"flex flex-row items-center ml-5 w-full"},I=["src"],T={class:"text-[#424141] text-left font-['Pretendard-Bold',_sans-serif] text-lg font-black ml-2"},F={class:"bg-[#f2f2f2] rounded-md pt-[5px] pr-2.5 pb-[5px] pl-2.5 flex flex-row gap-2.5 items-center justify-center shrink-0 relative"},V={class:"text-gray-3 text-center font-['Rubik-Regular',_sans-serif] text-[12px] leading-[14px] font-[400] relative ml-2"},A={__name:"Header",setup(C){const t=D();let b=t.currentPage;console.log(b);let h=L(!1),_=1,d,i;t.currentPage==0?(d="blood",i="blood_pressure_id"):t.currentPage==1&&(d="weight",i="weight_id");const v=()=>{if(confirm("삭제하시겠습니까?")){const c=t.selectDate;let a="http://210.91.210.243:8509/log/"+d+"?user_id="+_+"&date="+c;console.log(a),fetch(a,{method:"GET",headers:{accept:"application/json"}}).then(f=>f.json()).then(f=>{const y=f[i];a="http://210.91.210.243:8509/log/"+d+"?"+i+"="+y,fetch(a,{method:"DELETE",headers:{accept:"application/json"}}),t.chartData="",t.frameMenu="",h.value=!1})}};return P(()=>{B(()=>{if(console.log(t.currentPage),t.currentPage<=1){const u=t.selectDate;if(u){let c="http://210.91.210.243:8509/log/"+d+"?user_id="+_+"&date="+u;console.log(c),fetch(c,{method:"GET",headers:{accept:"application/json"}}).then(a=>a.json()).then(a=>{console.log(a),a?h.value=!0:h.value=!1})}}})}),(u,c)=>(p(),g("div",j,[n("div",N,[n("div",{class:"flex w-[3rem] h-[3rem] rounded-full",style:$({backgroundColor:r(t).headerList[r(t).currentPage].color})},[n("img",{src:r(t).headerList[r(t).currentPage].img,class:"w-[1.7rem] m-auto text-white"},null,8,I)],4),n("div",T,x(r(t).headerList[r(t).currentPage].title),1),n("div",F,[n("div",V,x(r(t).headerList[r(t).currentPage].period),1)]),r(t).headerList[r(t).currentPage].delete==!0&&r(h)==!0?(p(),g("button",{key:0,class:"ml-auto border-solid border-b-2 border-[#c8c8c8] px-1 font-bold",onClick:c[0]||(c[0]=a=>v())}," 데이터 삭제 ")):q("",!0)])]))}};const G={class:"flex flex-col w-full items-center justify-start bg-white"},O={class:"space-y-10 p-5 w-[100%] h-[100%] pt-0"},R={class:"p-5 rounded-2xl"},z={class:"text-2xl font-bold text-center mb-[2px]"},H={class:"text-lg text-right"},Y={class:"text-lg text-right"},J={id:"calendarBox",class:"flex overflow-x-scroll w-full rounded-xl bg-gray-100 shadow-lg"},K=["onClick","value"],Q={class:"font-bold text-xl"},U={class:"mt-5 bg-white"},X={__name:"CalendarPage",props:["page"],setup(C){const t=D(),b=C,h={0:"일",1:"월",2:"화",3:"수",4:"목",5:"금",6:"토"},_=[2023,2024],d=L([]),i=o=>o.replace(/[^0-9]/g,""),v=(o,s)=>{const l=new Date(o,s,0).getDate();console.log("daysInMonth",s),d.value=[];for(let e=1;e<=l;e++){let m=new Date(o,s,e).getDay();d.value.push({id:e,day:h[m]})}},u=new Date;B(async()=>{let o=u.getFullYear(),s=u.getMonth(),l=u.getDate();v(o,s);const{ctx:e}=E();await e.$nextTick(),document.querySelectorAll("#calendarBox button"),monthSelect.options[s].selected=!0,yearSelect.options[_.indexOf(o)].selected=!0,console.log(o+"-"+String(s+1).padStart(2,"0")+"-"+String(l).padStart(2,"0")),y(o+"-"+String(s+1).padStart(2,"0")+"-"+String(l).padStart(2,"0")),f(l)});const c=()=>{let o=i(document.querySelector("#yearSelect").value),s=i(document.querySelector("#monthSelect").value);v(o,s)},a=o=>{const s=i(document.querySelector("#yearSelect").value),l=i(document.querySelector("#monthSelect").value),e=o;f(o),y(s+"-"+String(l).padStart(2,"0")+"-"+String(e).padStart(2,"0"))},f=o=>{if(document.querySelectorAll("#calendarBox button").forEach(l=>{l.classList.remove("selectedBtn"),l.value==o&&l.classList.add("selectedBtn")}),o>=4){const l=document.querySelector("#calendarBox"),e=o-3,m=document.querySelector("#calendarBox button:nth-child("+e+")");console.log(m),l.scrollLeft=m.offsetLeft}},y=o=>{t.selectDate=o};return(o,s)=>{const l=M("router-view");return p(),g(S,null,[k(A,{page:b.page},null,8,["page"]),n("div",G,[n("div",O,[n("div",R,[n("div",z,[n("select",{id:"yearSelect",onChange:s[0]||(s[0]=e=>c()),class:"text-center rounded-xl"},[(p(),g(S,null,w(_,e=>n("option",H,x(e)+"년 ",1)),64))],32),n("select",{id:"monthSelect",onChange:s[1]||(s[1]=e=>c()),class:"text-center rounded-xl ml-2"},[(p(),g(S,null,w(12,e=>n("option",Y,x(e)+"월 ",1)),64))],32)]),n("div",J,[(p(!0),g(S,null,w(d.value,e=>(p(),g("button",{class:"p-3.5 px-5 text-center rounded-2xl",key:e.id,onClick:m=>a(e.id),value:e.id},[n("span",Q,x(e.id),1),n("span",null,x(e.day),1)],8,K))),128))]),n("div",U,[k(l)])])])])],64)}}};export{X as default};
